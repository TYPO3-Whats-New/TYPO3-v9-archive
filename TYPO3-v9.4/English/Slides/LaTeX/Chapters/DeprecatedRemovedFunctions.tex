% ------------------------------------------------------------------------------
% TYPO3 Version 9.4 - What's New (English Version)
%
% @author	Michael Schams <schams.net>
% @license	Creative Commons BY-NC-SA 3.0
% @link		https://typo3.org/help/documentation/whats-new/
% @language	English
% ------------------------------------------------------------------------------

\section{Deprecated/Removed Functions}
\begin{frame}[fragile]
	\frametitle{Deprecated/Removed Functions}

	\begin{center}\huge{Chapter 4:}\end{center}
	\begin{center}\huge{\color{typo3darkgrey}\textbf{Deprecated/Removed Functions}}\end{center}

\end{frame}

% ------------------------------------------------------------------------------
% #65578 - Deprecate enableConcatenateFiles
% #84414 - BackendUtility::shortcutExists
% #85858 - Deprecate GeneralUtility::clientInfo()
% #85699 - Deprecate methods in PageRepository
% #85759 - Deprecate GeneralUtility::getHostName
% #85760 - Deprecate GeneralUtility::unQuoteFilenames
% #85394 - Deprecate TYPO3\CMS\Core\Database\PdoHelper

\begin{frame}[fragile]
	\frametitle{Deprecated/Removed Functions}
	\framesubtitle{Deprecated Options and Functions (1)}

	\begin{itemize}
		\item The following two TypoScript options have been marked deprecated:

			\begin{itemize}\smaller
                \item \texttt{config.enableConcatenateFiles}
                \item \texttt{config.concatenateJsAndCss}
            \end{itemize}

        	\smaller
				The latter has been replaced by \texttt{concatenateCss} and
					\texttt{concatenateJs} respectively
			\normalsize

		\item The following methods/classes have been marked deprecated:

			\begin{itemize}\smaller
				\item \texttt{TYPO3\textbackslash
					CMS\textbackslash
					Backend\textbackslash
					Utility\textbackslash
					BackendUtility::shortcutExists()}

				\item \texttt{TYPO3\textbackslash
					CMS\textbackslash
					Core\textbackslash
					Utility\textbackslash
					GeneralUtility::clientInfo()}

				\item \texttt{TYPO3\textbackslash
					CMS\textbackslash
					Core\textbackslash
					Utility\textbackslash
					GeneralUtility::getHostName()}

				\item \texttt{TYPO3\textbackslash
					CMS\textbackslash
					Core\textbackslash
					Utility\textbackslash
					GeneralUtility::unQuoteFilenames()}

				\item \texttt{TYPO3\textbackslash
					CMS\textbackslash
					Frontend\textbackslash
					Page\textbackslash
					PageRepository::getRecordsByField()}

				\item \texttt{TYPO3\textbackslash
					CMS\textbackslash
					Frontend\textbackslash
					Page\textbackslash
					PageRepository::getFileReferences()}

				\item \texttt{TYPO3\textbackslash
					CMS\textbackslash
					Core\textbackslash
					Database\textbackslash
					PdoHelper}

			\end{itemize}
	\end{itemize}

\end{frame}

% ------------------------------------------------------------------------------
% #85701 - Deprecate methods in ModuleTemplate
% #85707 - Deprecate LoginFramesetController

\begin{frame}[fragile]
	\frametitle{Deprecated/Removed Functions}
	\framesubtitle{Deprecated Options and Functions (2)}

	\begin{itemize}
		\item The following methods/classes have been marked deprecated:

			\begin{itemize}\smaller
				\item \texttt{TYPO3\textbackslash
					CMS\textbackslash
					Backend\textbackslash
					Template\textbackslash
					ModuleTemplate::icons()}

				\item \texttt{TYPO3\textbackslash
					CMS\textbackslash
					Backend\textbackslash
					Template\textbackslash
					ModuleTemplate::loadJavascriptLib()}

			\end{itemize}

		\item The functionality of the following class has been replaced by a
			request to \texttt{index.php?loginRefresh=1} directly (and the
			class marked deprecated):

			\begin{itemize}\smaller
				\item \texttt{TYPO3\textbackslash
					CMS\textbackslash
					Backend\textbackslash
					Controller\textbackslash
					LoginFramesetController}
			\end{itemize}\smaller

	\end{itemize}

\end{frame}

% ------------------------------------------------------------------------------
% #85793 - Deprecate several constants from SystemEnvironmentBuilder

\begin{frame}[fragile]
	\frametitle{Deprecated/Removed Functions}
	\framesubtitle{Deprecated Constants (1)}

	\begin{itemize}
		\item The following constants have been deprecated (1/2)\newline
			and should not be used anymore:

			\begin{itemize}\smaller
				\item \texttt{TYPO3\_URL\_MAILINGLISTS}
				\item \texttt{TYPO3\_URL\_DOCUMENTATION}
				\item \texttt{TYPO3\_URL\_DOCUMENTATION\_TSREF}
				\item \texttt{TYPO3\_URL\_DOCUMENTATION\_TSCONFIG}
				\item \texttt{TYPO3\_URL\_CONSULTANCY}
				\item \texttt{TYPO3\_URL\_CONTRIBUTE}
				\item \texttt{TYPO3\_URL\_SECURITY}
				\item \texttt{TYPO3\_URL\_DOWNLOAD}
				\item \texttt{TYPO3\_URL\_SYSTEMREQUIREMENTS}
			\end{itemize}

	\end{itemize}

\end{frame}

% ------------------------------------------------------------------------------
% #85793 - Deprecate several constants from SystemEnvironmentBuilder
% #85285 - Replace last occurrences of PATH_site with Environment API

\begin{frame}[fragile]
	\frametitle{Deprecated/Removed Functions}
	\framesubtitle{Deprecated Constants (2)}

	\begin{itemize}
		\item The following constants have been deprecated (2/2)\newline
			and should not be used anymore:

			\begin{itemize}\smaller
				\item \texttt{NUL}\tabto{3cm}(use \texttt{"\textbackslash 0"} instead)
				\item \texttt{TAB}\tabto{3cm}(use \texttt{"\textbackslash t"} instead)
				\item \texttt{SUB}\tabto{3cm}(use \texttt{chr(26)} instead)
				\item \texttt{PATH\_thisScript}\tabto{3cm}(use \texttt{Environment::getCurrentScript()} instead)
				\item \texttt{PATH\_site}\tabto{3cm}(use \texttt{Environment::getPublicPath().'/'} instead)
			\end{itemize}
	\end{itemize}

\end{frame}

% ------------------------------------------------------------------------------
% #85878 - Deprecate EidUtility and methods within TSFE

\begin{frame}[fragile]
	\frametitle{Deprecated/Removed Functions}
	\framesubtitle{Class \texttt{EidUtility} and Methods within \texttt{TSFE}}

	% decrease font size for code listing
	\lstset{basicstyle=\tiny\ttfamily}

	\begin{itemize}
		\item The following class has been marked deprecated:\newline
			\smaller\texttt{TYPO3\textbackslash
				CMS\textbackslash
				Frontend\textbackslash
				Utility\textbackslash
				EidUtility}\normalsize

		\item The following methods have been marked deprecated:\newline
			\smaller\texttt{TYPO3\textbackslash
				CMS\textbackslash
				Frontend\textbackslash
				Controller\textbackslash
				TypoScriptFrontendController}\normalsize

				\begin{itemize}\smaller
					\item \texttt{TypoScriptFrontendController::initFEuser()}
					\item \texttt{TypoScriptFrontendController::storeSessionData()}
					\item \texttt{TypoScriptFrontendController::previewInfo()}
					\item \texttt{TypoScriptFrontendController::hook\_eofe()}
					\item \texttt{TypoScriptFrontendController::addTempContentHttpHeaders()}
					\item \texttt{TypoScriptFrontendController::sendCacheHeaders()}
				\end{itemize}

			\item The following hook has been marked deprecated:

				\begin{lstlisting}
$GLOBALS['TYPO3_CONF_VARS']['SC_OPTIONS']['tslib/class.tslib_fe.php']['hook_previewInfo']
				\end{lstlisting}

	\end{itemize}

\end{frame}

% ------------------------------------------------------------------------------
% #85004 - Deprecate methods in ReflectionService

\begin{frame}[fragile]
	\frametitle{Deprecated/Removed Functions}
	\framesubtitle{Class \texttt{ReflectionService}}

	\begin{itemize}
		\item The following methods have been marked deprecated:\newline
			\smaller\texttt{TYPO3\textbackslash
				CMS\textbackslash
				Extbase\textbackslash
				Reflection\textbackslash
				ReflectionService}\normalsize

				\begin{itemize}\smaller
					\item \texttt{ReflectionService::getClassTagsValues()}
					\item \texttt{ReflectionService::getClassTagValues()}
					\item \texttt{ReflectionService::getClassPropertyNames()}
					\item \texttt{ReflectionService::hasMethod()}
					\item \texttt{ReflectionService::getMethodTagsValues()}
					\item \texttt{ReflectionService::getMethodParameters()}
					\item \texttt{ReflectionService::getPropertyTagsValues()}
					\item \texttt{ReflectionService::getPropertyTagValues()}
					\item \texttt{ReflectionService::isClassTaggedWith()}
					\item \texttt{ReflectionService::isPropertyTaggedWith()}
				\end{itemize}

	\end{itemize}

\end{frame}

% ------------------------------------------------------------------------------
% More functions have been deprecated/removed...

\begin{frame}[fragile]
	\frametitle{Deprecated/Removed Functions}

	\vspace{0.6cm}
	\begin{center}
		More functions
	\end{center}
	\vspace{-0.8cm}
	\begin{center}
		have been removed or marked deprecated
	\end{center}
	\vspace{-0.8cm}
	\begin{center}
		in TYPO3 version 9.4.
	\end{center}
	\vspace{-0.6cm}
	\begin{center}
		Please see the \href{https://docs.typo3.org/typo3cms/extensions/core/latest/Changelog/9.4/Index.html#deprecation}{TYPO3 documentation} for further details.
	\end{center}

\end{frame}

% ------------------------------------------------------------------------------
